# Build View Hub - PDF Report Analysis Integration

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ —Å ML-–∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ PDF –æ—Ç—á—ë—Ç–æ–≤. –¢–µ–ø–µ—Ä—å:

### Frontend (React)
- **UploadPage.tsx** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF —Ñ–∞–π–ª–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å **drag-and-drop**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å ML –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑

### Backend (Python/Flask)  
- –°–æ–∑–¥–∞–Ω **API —Å–µ—Ä–≤–µ—Ä (api.py)** —Å endpoint `/api/analyze-report`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **advanced_analyzer.py** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ PDF
- –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏: –°–ú–†, –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ –æ—Ç –ì–ü–†, –î–î–£, –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞: –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π/—Ç—Ä–µ–≤–æ–∂–Ω—ã–π/–∫—Ä–∏—Ç–∏—á–Ω—ã–π

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/dilnazshanova/Downloads/build-view-hub-main

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements-backend.txt
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä

```bash
# –°–ø–æ—Å–æ–± 1: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
python3 api.py

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Gunicorn (–¥–ª—è production)
gunicorn -w 4 -b 0.0.0.0:5000 api:app
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:5000`

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –∑–∞–ø—É—â–µ–Ω)

```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run dev
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á—ë—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Upload Project Reports"
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF —Ñ–∞–π–ª (–ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "Choose File")
3. –ù–∞–∂–º–∏—Ç–µ "Analyze Report"
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ** (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–¥, –ø–µ—Ä–∏–æ–¥)
- **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞** (–Ω–æ—Ä–º–∞–ª—å–Ω—ã–π/—Ç—Ä–µ–≤–æ–∂–Ω—ã–π/–∫—Ä–∏—Ç–∏—á–Ω—ã–π)
- **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏** (–°–ú–†, –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ, –î–î–£)
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ** –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ —É—Å–ª–æ–≤–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
build-view-hub-main/
‚îú‚îÄ‚îÄ advanced_analyzer.py          # –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä PDF –æ—Ç—á—ë—Ç–æ–≤
‚îú‚îÄ‚îÄ api.py                        # Flask API —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ requirements-backend.txt      # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ BACKEND_SETUP.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ backend
‚îú‚îÄ‚îÄ PDF_ANALYSIS_GUIDE.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ components/pages/
‚îÇ       ‚îî‚îÄ‚îÄ UploadPage.tsx       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
‚îî‚îÄ‚îÄ ...
```

## API Endpoints

### POST /api/analyze-report
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç PDF –æ—Ç—á—ë—Ç

**–ó–∞–ø—Ä–æ—Å:**
```
Content-Type: multipart/form-data
Body:
  - file: [PDF —Ñ–∞–π–ª]
```

**–û—Ç–≤–µ—Ç (200):**
```json
{
  "project_info": {
    "full_name": "–ñ–ö...",
    "code": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç ‚Ññ123",
    "report_period": "2025–≥ –¥–µ–∫–∞–±—Ä—è",
    "location": "–≥–æ—Ä–æ–¥ –ù—É—Ä—Å—É–ª—Ç–∞–Ω"
  },
  "project_status": "—Ç—Ä–µ–≤–æ–∂–Ω—ã–π",
  "metrics": {
    "SMR_completion": 46.69,
    "GPR_delay_percent": 13.33,
    "GPR_delay_days": 76,
    "DDU_payments_percent": [47.07],
    "guarantee_extension": true
  },
  "reasoning": [
    "üü° –°–¢–ê–¢–£–°: –¢–†–ï–í–û–ñ–ù–´–ô - ...",
    "‚úì –£—Å–ª–æ–≤–∏–µ 'a' –í–´–ü–û–õ–ù–ï–ù–û: –°–ú–† 46.69% < 80%..."
  ],
  "triggered_conditions": ["a", "b6", "d1"]
}
```

### GET /api/health
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ PDF

PDF –æ—Ç—á—ë—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–≤ –∫–∞–≤—ã—á–∫–∞—Ö –∏–ª–∏ –∫–∞–∫ "–ñ–ö ...")
- –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞/—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- –ü–µ—Ä–∏–æ–¥ –æ—Ç—á–µ—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç YYYYMM)
- –û–±—ä–µ–º –°–ú–† (%)
- –û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ –æ—Ç –ì–ü–† (–¥–Ω–∏)
- –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –ø–æ –î–î–£ (%)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö

–ü—Ä–∏–º–µ—Ä—ã PDF —Ñ–∞–π–ª–æ–≤: `1.pdf`, `2.pdf`, `3.pdf` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ

## –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–µ–∫—Ç–∞

- üü¢ **–ù–æ—Ä–º–∞–ª—å–Ω—ã–π** - –≤—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –Ω–æ—Ä–º–µ
- üü° **–¢—Ä–µ–≤–æ–∂–Ω—ã–π** - –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–°–ú–† < 80% –ò–õ–ò –î–î–£ < 70%)
- üî¥ **–ö—Ä–∏—Ç–∏—á–Ω—ã–π** - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

## Troubleshooting

### –û—à–∏–±–∫–∞ "Module not found: pdfplumber"
```bash
pip install pdfplumber
```

### API —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–≤–æ–±–æ–¥–µ–Ω –ª–∏ –ø–æ—Ä—Ç 5000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É Flask: `pip install flask flask-cors`

### Frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `http://localhost:5000/api/health` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status": "ok"}`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS - —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ api.py

### PDF –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞ –≤ PDF
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PDF —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–µ–±—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å Backend –¥–ª—è –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫

## –ß—Ç–æ –¥–∞–ª—å—à–µ

–î–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ production:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å environment variables
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gunicorn –≤–º–µ—Å—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ Flask —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–æ—Å—Ç–∞–≤–∏—Ç—å nginx –∫–∞–∫ reverse proxy
4. –í–∫–ª—é—á–∏—Ç—å HTTPS
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–º. [BACKEND_SETUP.md](BACKEND_SETUP.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
